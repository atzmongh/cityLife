@using cityLife4;
@using cityLife.Controllers;
@{
    //The view is used for both adding new orders an updating existing orders.
    //New orders have an order record which contains only checkin, checkout, number of nights and apartment number.
    //The order id of a new order is 0.
    //Existing orders contain all data belonging to that order
    ViewBag.Title = "s23addUpdateOrder";
    Layout = "~/Views/sharing/_staffLayout.cshtml";
    OrderData theOrderData = ViewBag.orderData;
    TranslateBox tBox = ViewBag.tBox;

}


<style>
    .wizard{
        display:flex;
    }
    
    .nonActive {
        color: black;
        border-bottom: 1px solid #00C1E5;
    }
    .active {
        color: #00C1E5;
        border-bottom: 2px solid #00C1E5;
    }
    .wizard li {
        padding-left: 10px;
        padding-right: 10px;
        cursor: pointer;
    }
   
</style>

<div class="main-wrapper reset-indent">
    <div class="page-heading">
        @tBox.translate("Add/update order for apartment") @theOrderData.apartmentNumber
    </div>

    <header style="padding-bottom:5px;">

        <ul class="wizard">
            <li id="liPersonal" class="active" onclick="activate('Personal')">@tBox.translate("Personal")</li>
            <li id="liBooking" class="nonActive" onclick="activate('Booking')">@tBox.translate("Booking")</li>
            <li id="liStatus" class="nonActive" onclick="activate('Status')">@tBox.translate("Status")</li>
        </ul>
    </header>
    <form method="post" action="/staff/s25addUpdateOrder">
        <input type="hidden" id="orderId" name="orderId" value="@theOrderData.orderId" />
        <div id="divPersonal" style="max-width:500px;margin:10px;">
            @Html.Partial("s24orderPersonal")
        </div>
        <div id="divBooking" style="display:none">
            @Html.Partial("s25orderBooking")
        </div>
        <div id="divStatus" style="display:none">
            @Html.Partial("s26orderStatus")
        </div>
    </form>
</div>
<script>
    var a = 0;
    a++;
    function activate(screen) {
        $("#divPersonal").hide();
        $("#divBooking").hide();
        $("#divStatus").hide();
        $("#div" + screen).show();

        $(".wizard li").removeClass("active").addClass("nonActive");
        $("#li" + screen).addClass("active");
    }
    $(document).ready(function ()
    {
        var checkinDate = new Date($("#checkinDate").val());
        $("#checkinDate").datepicker({
            defaultDate: checkinDate,
            numberOfMonths: 1,
            dateFormat: "d MM, yy",   //5 Feb, 2019
            firstDay: 1
        });
        var checkoutDate = new Date($("#checkoutDate").val());
        $("#checkoutDate").datepicker({
            defaultDate: checkoutDate,
            numberOfMonths: 1,
            dateFormat: "d MM, yy",   //5 Feb, 2019
            firstDay: 1
        });
    });
    
</script>










